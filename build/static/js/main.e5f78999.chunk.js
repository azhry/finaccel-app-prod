(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{228:function(e,t){},231:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(76),c=a.n(r),l=(a(84),a(5)),i=a(35),u=a(77),s=a.n(u),d=a(78),g=a.n(d),b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).MODE&&"production"==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).MODE?"https://finaccel-app.herokuapp.com":"http://localhost:3000",h=s.a.create({baseURL:b}),v=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),u=Object(l.a)(c,2),s=u[0],d=u[1],v=Object(n.useState)(0),f=Object(l.a)(v,2),m=f[0],E=f[1],p=Object(n.useState)(""),O=Object(l.a)(p,2),S=O[0],C=O[1],j=Object(n.useState)([]),_=Object(l.a)(j,2),y=_[0],k=_[1],T=Object(n.useState)(!0),w=Object(l.a)(T,2),B=w[0],D=w[1],P=function(e){h.get("/queues/kue-api/jobs/".concat(e,"/0..10/desc")).then((function(t){200===t.status&&t.data.length>0&&("active"===e?C(t.data[0].data.title):(t.data.reverse(),k(t.data)))})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){!function(){var e=g()(b);e.on("connect",(function(){return console.log("you are connected")})),e.on("disconnect",(function(){return console.log("you are disconnected")})),e.on("queue",(function(e){C(e),P("inactive")})),e.on("progress",(function(e){E(e)}))}(),Promise.all([h.get("/employees/avg-salaries"),h.get("/employees/avg-ages")]).then((function(e){if(console.log(e),200===e[0].status){var t=e[0].data,a=t.map((function(e){return e.title})),n=t.map((function(e){return e.avg_salary}));r({labels:a,datasets:[{label:"Average Salary Per Job Title",backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,hoverBackgroundColor:"rgba(255, 99, 132, 0.4)",hoverBorderColor:"rgba(255, 99, 132, 1)",data:n}]})}if(200===e[1].status){var o=e[1].data,c=o.map((function(e){return e.title})),l=o.map((function(e){return e.avg_age}));d({labels:c,datasets:[{label:"Average Age Per Job Title",backgroundColor:"rgba(0, 99, 132, 0.2)",borderColor:"rgba(0, 99, 132, 1)",borderWidth:1,hoverBackgroundColor:"rgba(0, 99, 132, 0.4)",hoverBorderColor:"rgba(0, 99, 132, 1)",data:l}]})}D(!1)})).catch((function(e){console.log(e)})),P("active"),P("inactive")}),[]),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{width:"100%",height:"100vh",position:"fixed",zIndex:10,backgroundColor:"rgba(0, 0, 0, 0.2)",display:B?"flex":"none",justifyContent:"center",alignItems:"center"}},"Loading..."),o.a.createElement("div",{style:{width:500,margin:10}},o.a.createElement(i.Bar,{width:500,height:200,data:a}),o.a.createElement(i.Bar,{width:500,height:200,data:s})),o.a.createElement("div",null,o.a.createElement("div",null,"Active Queue: ",S),o.a.createElement("div",null,"Progress: ",m," employees"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",null,o.a.createElement("p",null,"Queue List"),o.a.createElement("ul",null,y.map((function(e,t){return o.a.createElement("li",{key:t},e.data.title)})))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{onClick:function(){h.get("/queues/kue-api/jobs/active/0..10/desc").then((function(e){console.log(e.data),200===e.status&&(e.data.length<=0?h.get("/queues/enqueue").then((function(e){200===e.status&&h.get("/queues/process").then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)})):C(e.data[0].data.title))})).catch((function(e){console.log(e)}))}},"Execute Queues")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},79:function(e,t,a){e.exports=a(231)},84:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.e5f78999.chunk.js.map